<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Repainting Problem: How Most TradingView Indicators Cheat - Signal Pilot Blog</title>
  <meta name="description" content="That indicator with the perfect backtest? It's lying to you. Learn how repainting works and how to protect yourself.">
  <meta name="theme-color" content="#05070d">
  <link rel="icon" href="https://signalpilot.io/favicon.ico">
  <link rel="alternate" hreflang="en" href="./">
  <link rel="alternate" hreflang="es" href="./es/">
  <link rel="alternate" hreflang="de" href="./de/">
  <link rel="alternate" hreflang="fr" href="./fr/">
  <link rel="alternate" hreflang="it" href="./it/">
  <link rel="alternate" hreflang="pt" href="./pt/">
  <link rel="alternate" hreflang="nl" href="./nl/">
  <link rel="alternate" hreflang="ru" href="./ru/">
  <link rel="alternate" hreflang="ja" href="./ja/">
  <link rel="alternate" hreflang="ar" href="./ar/">
  <link rel="alternate" hreflang="tr" href="./tr/">
  <link rel="alternate" hreflang="hu" href="./hu/">
  <link rel="alternate" hreflang="x-default" href="./">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=EB+Garamond:wght@400;500;600&family=Gugi&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../assets/css/blog.css">
</head>
<body>
  <div class="bg-aurora"></div>
  <div class="reading-progress" id="progress"></div>

  <header class="header">
    <div class="container">
      <div class="header-inner">
        <a href="https://signalpilot.io" class="logo">
          <span class="logo-text">SIGNAL PILOT</span>
        </a>
        <nav class="nav">
          <a href="https://signalpilot.io">Home</a>
          <a href="https://docs.signalpilot.io">Docs</a>
          <a href="https://education.signalpilot.io">Education</a>
          <a href="/" class="active">Blog</a>
        </nav>
        <div class="header-controls">
          <div class="translate-wrapper">
            <button class="translate-btn" onclick="this.parentElement.classList.toggle('open')" aria-label="Translate">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <path d="M2 12h20"/>
                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
              </svg>
            </button>
            <div class="translate-dropdown">
              <div class="lang-dropdown" id="langDropdown">
            <button class="lang-toggle" aria-label="Select language">
              <span class="flag">ğŸŒ</span>
              <span class="lang-name">EN</span>
              <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
            </button>
            <div class="lang-menu">
              <button data-lang="en"><span class="flag">ğŸ‡¬ğŸ‡§</span> English</button>
              <button data-lang="es"><span class="flag">ğŸ‡ªğŸ‡¸</span> EspaÃ±ol</button>
              <button data-lang="fr"><span class="flag">ğŸ‡«ğŸ‡·</span> FranÃ§ais</button>
              <button data-lang="de"><span class="flag">ğŸ‡©ğŸ‡ª</span> Deutsch</button>
              <button data-lang="it"><span class="flag">ğŸ‡®ğŸ‡¹</span> Italiano</button>
              <button data-lang="pt"><span class="flag">ğŸ‡§ğŸ‡·</span> PortuguÃªs</button>
              <button data-lang="ru"><span class="flag">ğŸ‡·ğŸ‡º</span> Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
              <button data-lang="zh-CN"><span class="flag">ğŸ‡¨ğŸ‡³</span> ä¸­æ–‡</button>
              <button data-lang="ja"><span class="flag">ğŸ‡¯ğŸ‡µ</span> æ—¥æœ¬èª</button>
              <button data-lang="ko"><span class="flag">ğŸ‡°ğŸ‡·</span> í•œêµ­ì–´</button>
              <button data-lang="ar"><span class="flag">ğŸ‡¸ğŸ‡¦</span> Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
              <button data-lang="hi"><span class="flag">ğŸ‡®ğŸ‡³</span> à¤¹à¤¿à¤¨à¥à¤¦à¥€</button>
              <button data-lang="nl"><span class="flag">ğŸ‡³ğŸ‡±</span> Nederlands</button>
              <button data-lang="pl"><span class="flag">ğŸ‡µğŸ‡±</span> Polski</button>
              <button data-lang="tr"><span class="flag">ğŸ‡¹ğŸ‡·</span> TÃ¼rkÃ§e</button>
              <button data-lang="vi"><span class="flag">ğŸ‡»ğŸ‡³</span> Tiáº¿ng Viá»‡t</button>
              <button data-lang="th"><span class="flag">ğŸ‡¹ğŸ‡­</span> à¹„à¸—à¸¢</button>
              <button data-lang="id"><span class="flag">ğŸ‡®ğŸ‡©</span> Indonesia</button>
            </div>
          </div>
          <div id="google_translate_element"></div>
            </div>
          </div>
          <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
            <svg class="icon-sun" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
            <svg class="icon-moon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
          </button>
          <a href="https://signalpilot.io/#trial" class="btn btn-primary">Try Free</a>
          <button class="mobile-menu-btn" aria-label="Menu">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="3" y1="12" x2="21" y2="12"/>
              <line x1="3" y1="6" x2="21" y2="6"/>
              <line x1="3" y1="18" x2="21" y2="18"/>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </header>

  <main>
    <article>
      <!-- Hero Image Placeholder -->
      <figure class="hero-image">
        <img src="hero.png" alt="Repainting indicator signals" data-ai-prompt="Dark themed unsettling visualization of repainting indicators - a candlestick chart where buy/sell signals are visibly shifting and moving, leaving ghostly faded afterimages of where they used to be. Signals appear to be lying, repositioning themselves to look perfect in hindsight. Red and amber warning tones. Deceptive, untrustworthy aesthetic. Deep navy background with glitching, unstable signal markers.">
        <figcaption class="ai-prompt">Dark themed unsettling visualization of repainting indicators - a candlestick chart where buy/sell signals are visibly shifting and moving, leaving ghostly faded afterimages of where they used to be. Signals appear to be lying, repositioning themselves to look perfect in hindsight. Red and amber warning tones. Deceptive, untrustworthy aesthetic. Deep navy background with glitching, unstable signal markers.</figcaption>
      </figure>

      <header class="article-header">
        <div class="container-narrow">
          <nav class="breadcrumbs" aria-label="Breadcrumb">
            <a href="/">Blog</a>
            <span class="breadcrumb-sep">â€º</span>
            <a href="/?filter=indicators">Indicators</a>
            <span class="breadcrumb-sep">â€º</span>
            <span class="breadcrumb-current">Article</span>
          </nav>
          <span class="article-category">Indicators</span>
          <h1 class="article-title">The Repainting Problem: How Most TradingView Indicators Cheat</h1>
          <div class="article-meta">
            <span><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg> 7 min read</span>
            <span>Signal Pilot Team</span>
          </div>
        <div class="share-buttons">
            <span class="share-label">Share:</span>
            <a href="#" class="share-btn" onclick="window.open('https://twitter.com/intent/tweet?url='+encodeURIComponent(window.location.href)+'&text='+encodeURIComponent(document.title),'_blank','width=600,height=400');return false;" aria-label="Share on Twitter">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
            </a>
            <a href="#" class="share-btn" onclick="window.open('https://www.linkedin.com/sharing/share-offsite/?url='+encodeURIComponent(window.location.href),'_blank','width=600,height=400');return false;" aria-label="Share on LinkedIn">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
            </a>
            <a href="#" class="share-btn" onclick="navigator.clipboard.writeText(window.location.href);this.classList.add('copied');setTimeout(()=>this.classList.remove('copied'),2000);return false;" aria-label="Copy link">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>
            </a>
          </div>
        </div>
      </header>

      <div class="article-content">
        <div class="container-narrow">
          <p>That indicator with the perfect backtest? The one that nails every top and bottom with surgical precision?</p>
          <p>It's lying to you.</p>
          <p>Not maybe. Not sometimes. If the historical signals look too good to be true, the indicator is almost certainly repainting - and you're about to learn an expensive lesson the moment you trade it live.</p>

          <hr>

          <h2>What Repainting Actually Means</h2>
          <p>Repainting is when an indicator changes its past signals after the fact. The buy arrow that appears at the exact bottom? It wasn't there when the candle was forming. The indicator waited to see what happened, then painted the signal retroactively.</p>
          <p>Think of it like a weather forecaster who "predicts" yesterday's weather. Easy to be right when you already know the outcome.</p>
          <p>Here's what it looks like in practice:</p>
          <p><strong>During the candle:</strong> No signal appears. Price is bouncing around. You're watching, waiting.</p>
          <p><strong>After the candle closes (price went up):</strong> Suddenly a buy signal appears on that candle. The indicator "knew" all along.</p>
          <p><strong>After the candle closes (price went down):</strong> No signal. The indicator stays quiet, as if it never considered buying.</p>
          <p>The indicator isn't predicting anything. It's rewriting history to look smart.</p>

          <hr>

          <h2>Why Repainting Indicators Exist</h2>
          <p>Two reasons: ignorance and deception.</p>
          <p><strong>Ignorance:</strong> Some developers genuinely don't understand the problem. They build an indicator, see great historical results, and assume it works. They're not trying to scam anyone - they just don't know better.</p>
          <p><strong>Deception:</strong> Others know exactly what they're doing. Repainting indicators are easy to market. The backtest looks incredible. Screenshots show perfect entries. Testimonials pour in from people who haven't traded it live yet.</p>
          <p>By the time users figure it out, the developer has moved on to the next "revolutionary" system.</p>

          <hr>

          <h2>The Three Types of Repainting</h2>
          <p>Not all repainting is equal. Understanding the types helps you identify the problem:</p>
          <p><strong>Type 1: Signal Relocation</strong></p>
          <p>The signal appears on one candle, then jumps to a different candle after more data comes in. That "perfect" entry you saw yesterday has now moved three candles earlier. History has been rewritten.</p>
          <p><strong>Type 2: Signal Disappearance</strong></p>
          <p>Signals that appeared during live trading simply vanish from the chart. The indicator gave you a buy signal, you took the trade, it failed - and now the signal isn't even there anymore. Good luck explaining that to anyone reviewing your trades.</p>
          <p><strong>Type 3: Value Recalculation</strong></p>
          <p>The indicator's values themselves change retroactively. The oscillator that showed overbought conditions now shows neutral. Support levels that were there yesterday have shifted. The entire historical record is unreliable.</p>

          <hr>

          <h2>How to Test Any Indicator for Repainting</h2>
          <p>Marketing, screenshots, and backtests can all be misleading. Test it yourself.</p>
          <p><strong>The Screenshot Method:</strong></p>
          <ol>
            <li>Add the indicator to a live chart</li>
            <li>Take a screenshot showing the last 10-20 candles with any signals</li>
            <li>Wait for 10-20 new candles to form</li>
            <li>Take another screenshot of the same historical area</li>
            <li>Compare the two images</li>
          </ol>
          <p>If anything moved, disappeared, or changed - it repaints. Period.</p>
          <p><strong>The Live Watch Method:</strong></p>
          <ol>
            <li>Open a chart on a lower timeframe (5-minute works well)</li>
            <li>Watch the indicator in real-time for an hour</li>
            <li>Note every signal that appears during candle formation</li>
            <li>After each candle closes, check if the signal is still there</li>
            <li>After the session, scroll back and verify all signals match what you recorded</li>
          </ol>
          <p>This takes time. It's worth it. One hour of testing can save you months of frustration and thousands in losses.</p>
          <p><strong>The Question Method:</strong></p>
          <p>Ask the developer directly: "Does this indicator repaint?"</p>
          <p>Watch the answer carefully:</p>
          <ul>
            <li>"No" â†’ Good start, but verify anyway</li>
            <li>"Only on the current candle" â†’ That's still repainting. The current candle is the only one that matters.</li>
            <li>"It recalculates for accuracy" â†’ Repaints. That's what recalculation means.</li>
            <li>No response / vague answer â†’ Repaints. They're hiding it.</li>
          </ul>

          <hr>

          <h2>Why "Current Candle Repainting" Still Destroys You</h2>
          <p>Some developers claim their indicator "only repaints on the current candle" as if that's acceptable. It's not.</p>
          <p>Here's why:</p>
          <p>You're watching the chart. A buy signal appears. You enter the trade. The candle closes - and the signal disappears. The indicator decided, after seeing the close, that it wasn't actually a buy.</p>
          <p>But you're already in the trade.</p>
          <p>This isn't a minor inconvenience. It's the entire indicator being useless for live trading. The only signals that matter are the ones you can act on. If those signals might vanish, you can't trust any of them.</p>

          <hr>

          <h2>What Non-Repainting Actually Looks Like</h2>
          <p>A properly built indicator works like this:</p>
          <ol>
            <li>Signal conditions are evaluated on candle close</li>
            <li>Once a signal prints, it stays forever</li>
            <li>Historical signals match exactly what appeared live</li>
            <li>No recalculation, no relocation, no disappearing acts</li>
          </ol>
          <p>The signal either appears or it doesn't. Once it's there, it's permanent. What you see in the history is exactly what you would have seen trading live.</p>
          <p>This is the minimum standard. Not a feature - a requirement.</p>

          <hr>

          <h2>The Cost of Ignoring This</h2>
          <p>Traders who use repainting indicators without knowing it experience:</p>
          <p><strong>False confidence:</strong> The backtest looks profitable, so they size up. Then reality hits.</p>
          <p><strong>Phantom setups:</strong> They remember seeing signals that no longer exist on the chart. Self-doubt creeps in. "Did I imagine that?"</p>
          <p><strong>System-hopping:</strong> The indicator "stops working" (it never worked), so they move to the next one. The cycle repeats.</p>
          <p><strong>Account damage:</strong> Real money lost on signals that were never really there.</p>
          <p>The psychological damage might be worse than the financial damage. Traders who've been burned by repainting indicators often struggle to trust any tool again - even legitimate ones.</p>

          <hr>

          <h2>The Bottom Line</h2>
          <p>Before you use any indicator for real trading, test it for repainting. Before you buy any indicator, demand proof it doesn't repaint. Before you trust any backtest, verify that the signals existed in real-time.</p>
          <p>This isn't optional. It's not paranoid. It's the baseline requirement for any tool you're going to risk money on.</p>
          <p>The ten minutes you spend testing could save you months of losses and a complete crisis of confidence in your trading.</p>

          <hr>

          <h2>What Actually Works</h2>
          <p>Non-repainting should be the baseline, not the exception. But it's just the starting point.</p>
          <p>The best indicator systems combine multiple analysis dimensions - cycle detection, volume analysis, momentum voting, key levels - all without repainting any of them. When seven independent systems agree on a signal and none of them can retroactively change their vote, you're looking at something you can actually trust.</p>
          <p>That's what we built Signal Pilot to be: a suite where every indicator finalizes on candle close, where historical data matches exactly what appeared live, and where confluence is measured across multiple non-repainting systems simultaneously.</p>
          <p>You shouldn't have to take our word for it. Test it yourself using the exact methods described above. If anything repaints, don't use it. That standard applies to us too.</p>

          <hr>

          <section class="related-articles">
            <h3>Related Articles</h3>
            <div class="related-grid">
              <a href="../why-your-indicators-keep-failing/" class="related-card">
                <span class="related-category">Indicators</span>
                <h4>Why Your Indicators Keep Failing (And What Actually Works)</h4>
              </a>
              <a href="../why-backtesting-results-are-worthless/" class="related-card">
                <span class="related-category">Indicators</span>
                <h4>Why Your Backtesting Results Are Worthless</h4>
              </a>
              <a href="../inside-signal-pilot/" class="related-card">
                <span class="related-category">Signal Pilot</span>
                <h4>Inside Signal Pilot: How the 7 Indicators Work Together</h4>
              </a>
            </div>
          </section>

          
          <nav class="article-nav">
            <a href="../candlestick-basics/" class="article-nav-link prev">
              <span class="article-nav-label">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
                Previous
              </span>
              <span class="article-nav-title">Candlestick Basics: Reading Price Action Like a Pro</span>
            </a>
            <a href="../why-you-break-trading-rules/" class="article-nav-link next">
              <span class="article-nav-label">
                Next
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
              </span>
              <span class="article-nav-title">Why You Keep Breaking Your Own Trading Rules</span>
            </a>
          </nav>

          <div class="cta-box">
            <p><strong>Done with repainting indicators?</strong> Signal Pilot's entire 7-indicator suite finalizes signals on candle close. Every indicator. Every signal. What you see in history is exactly what appeared live - we guarantee it.</p>
            <p>Run the screenshot test on any Signal Pilot indicator. If anything repaints, don't subscribe. We're that confident.</p>
            <a href="https://signalpilot.io/#trial" class="btn btn-primary">Test It Free - No Credit Card â†’</a>
          </div>
        </div>
      </div>
    </article>
  </main>

  <footer class="footer">
    <div class="container">
      <div class="footer-links">
        <a href="/">â† Back to Blog</a>
        <a href="https://signalpilot.io">Home</a>
        <a href="https://docs.signalpilot.io">Documentation</a>
        <a href="https://education.signalpilot.io">Education Hub</a>
      </div>
      <p class="footer-copy">&copy; 2025 Signal Pilot. All rights reserved.</p>
    </div>
  </footer>

  <button class="back-to-top" id="backToTop" aria-label="Back to top">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 15l-6-6-6 6"/></svg>
  </button>

  <script>
    function toggleTheme() {
      const html = document.documentElement;
      const current = html.getAttribute('data-theme');
      const next = current === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
    }
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) document.documentElement.setAttribute('data-theme', savedTheme);

    window.addEventListener('scroll', () => {
      const docHeight = document.documentElement.scrollHeight - window.innerHeight;
      const progress = (window.scrollY / docHeight) * 100;
      document.getElementById('progress').style.width = progress + '%';
      const btn = document.getElementById('backToTop');
      if (window.scrollY > 500) btn.classList.add('visible');
      else btn.classList.remove('visible');
    });

    document.getElementById('backToTop').addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // Mobile Menu Toggle
    const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
    const nav = document.querySelector('.nav');
    if (mobileMenuBtn && nav) {
      mobileMenuBtn.addEventListener('click', () => {
        nav.classList.toggle('open');
        const isOpen = nav.classList.contains('open');
        mobileMenuBtn.innerHTML = isOpen
          ? '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>'
          : '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>';
      });
      nav.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => {
          nav.classList.remove('open');
          mobileMenuBtn.innerHTML = '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>';
        });
      });


    // Language Selector
    const langDropdown = document.getElementById('langDropdown');
    const langToggle = langDropdown?.querySelector('.lang-toggle');
    const langMenu = langDropdown?.querySelector('.lang-menu');
    const langButtons = langMenu?.querySelectorAll('button');
    
    if (langToggle) {
      langToggle.addEventListener('click', (e) => {
        e.stopPropagation();
        langDropdown.classList.toggle('active');
      });
    }
    
    document.addEventListener('click', (e) => {
      if (langDropdown && !langDropdown.contains(e.target)) {
        langDropdown.classList.remove('active');
      }
    });
    
    langButtons?.forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        const lang = btn.dataset.lang;
        langDropdown.classList.remove('active');

        // Update our dropdown display
        const flag = btn.querySelector('.flag').textContent;
        const name = lang.toUpperCase().split('-')[0];
        langDropdown.querySelector('.lang-toggle .flag').textContent = flag;
        langDropdown.querySelector('.lang-name').textContent = name;

        // Try to use Google Translate's native select element
        const gtSelect = document.querySelector('.goog-te-combo');
        if (gtSelect && gtSelect.options.length > 0) {
          if (lang === 'en') {
            // For English, select the first option (original language)
            gtSelect.selectedIndex = 0;
          } else {
            gtSelect.value = lang;
          }
          gtSelect.dispatchEvent(new Event('change', { bubbles: true }));
          return;
        }

        // Fallback: cookie-based approach with page reload
        // Clear ALL storage
        try {
          localStorage.removeItem('googtrans');
          sessionStorage.clear();
        } catch(e) {}

        // Clear ALL cookies - every possible combination
        const exp = '=;expires=Thu, 01 Jan 1970 00:00:00 GMT';
        const domains = [location.hostname, '.' + location.hostname];
        const paths = ['/', ''];
        domains.forEach(d => {
          paths.forEach(p => {
            document.cookie = 'googtrans' + exp + ';path=' + (p||'/') + ';domain=' + d;
          });
        });
        document.cookie = 'googtrans' + exp;
        document.cookie = 'googtrans' + exp + ';path=/';

        // Set new language cookie if not English
        if (lang !== 'en') {
          const v = '/en/' + lang;
          document.cookie = 'googtrans=' + v + ';path=/';
          document.cookie = 'googtrans=' + v + ';path=/;domain=.' + location.hostname;
        }

        // Navigate to clean URL to force fresh page load
        window.location.href = location.pathname + '?hl=' + lang + '&_=' + Date.now();
      });
    });


    // Google Translate
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({
        pageLanguage: 'en',
        includedLanguages: 'en,es,fr,de,it,pt,ru,zh-CN,zh-TW,ja,ko,ar,hi,nl,pl,tr,vi,th,id,sv,da,fi,no,cs,hu,ro,uk,he,el,bg,hr,sk,sl,et,lv,lt',
        layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
        autoDisplay: false
      }, 'google_translate_element');
    }
  </script>
  <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</body>
</html>
